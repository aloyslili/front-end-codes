<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>解析字符串</title>
    <script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.6.0/jquery.js"></script>
    <script src="https://cdn.bootcdn.net/ajax/libs/moment.js/2.29.1/moment-with-locales.js"></script>
</head>
<body>

  <input type="text" id="dateStr">
  <button id="jiexi">解析</button>

<script>
    // 传入 字符串
    // 先检查是否与 ISO 8601 匹配
    // 未找到，则检查是否与 RFC 2822 日期时间格式匹配
    /*
      注意：浏览器对于解析字符串的支持是不一致的, 因为没有关于应该支持哪种格式的规范，
            所以在某些浏览器中有效的格式在其他浏览器中可能无效。
    */

    /*
        支持的 ISO 8601 字符串:
            ISO 8601 字符串需要日期片段
                2013-02-08  # 日历日期片段
                2013-W06-5  # 星期日期片段
                2013-039    # 序数日期片段

                20130208    # 基本的完整日期（短）
                2013W065    # 基本的星期、工作日（短）
                2013W06     # 仅基本的星期（短）
                2013050     # 基本的序数日期（短）
            还可以包括时间片段，与日期片段之间使用空格或大写字母 T 分隔
                2013-02-08T09            # 使用 T 分隔的小时时间片段
                2013-02-08 09            # 使用空格分隔的小时时间片段
                2013-02-08 09:30         # 小时、分钟的时间片段
                2013-02-08 09:30:26      # 小时、分钟、秒钟的时间片段
                2013-02-08 09:30:26.123  # 小时、分钟、秒钟和毫秒的时间片段
                2013-02-08 24:00:00.000  # 小时 24、分钟、秒钟、毫秒等于 0 表示第二天午夜
                20130208T080910,123      # 短的日期和时间，精确到毫秒，以逗号分隔
                20130208T080910.123      # 短的日期和时间，精确到毫秒
                20130208T080910          # 短的日期和时间，精确到秒钟
                20130208T0809            # 短的日期和时间，精确到分钟
                20130208T08              # 短的日期和时间，仅有小时
            任何的日期片段都可以有时间片段

            如果字符串与以上无法匹配，并且无法使用 Date.parse进行解析，则 moment#isValid 将会返回false
     */
    /*
      RFC 2822
      在解析RFC2822日期时间之前，将会清理字符串以删除所有的注释和换行符
      清理之后，该字符串会在以下使用空格分隔的部分中进行验证，全部使用英语
      6 Mar 17 21:22 UT
      6 Mar 17 21:22:23 UT
      6 Mar 2017 21:22:23 GMT
      06 Mar 2017 21:22:23 Z
      Mon 06 Mar 2017 21:22:23 z
      Mon, 06 Mar 2017 21:22:23 +0000

      1. 星期几（三个字母），后面跟随一个可选的逗号。（可选的）
      2. 月份中的某天（1 或 2 位数字），后面跟随三个字母的月份和 2 或 4 位数字的年份。
      3. 两位数字的小时和分钟，以冒号（:）分隔，后面可选地跟随另一个冒号和 2 位数字的秒钟。
      4. 时区或偏移量采用以下格式之一：
      5. UT : +0000
      6. GMT : +0000
      7. EST | CST | MST | PST | EDT | CDT | MDT | PDT : 美国时区*
      8. A - I | K - Z : 军事时区*
      9. 时间偏移 +/-9999
    */
     $(function() {
      $('#jiexi').click(function() {
        let dateStr = $('#dateStr').val();
        let m = moment(dateStr);
        console.log(m);
      });
     });
</script>
</body>
</html>
